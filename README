Cambridge Booking System

Install notes

=========================================================================
APACHE2:
=======

1) Install mod_wsgi

2) Set up suitable vhost
2.1) Copy required directives into vhosts/<hostmame>.conf file
2.2) Adjust directory names as appropriate

=========================================================================
PYTHON:
=======

1) Install python 2.X

2) Additional modules:
* python-django
* google-api-python-client
* python-pyOpenSSL
* python-pycrypto
* python-pytz
* python-httplib2
* python-python-gflags


=========================================================================
CBS:
=======

1) copy cbs directory

2) If using SQLITE3:
2.1) Create sqlite3 directory with a+w permission
2.2) Create sqlite3/cbs directory with a+w permission
2.3) NOTE step 5.2 below

3) Modify hard-coded directory references
3.1) Edit cbs/cbs/settings.py and check directory references match your system
3.2) Edit cbs/cbs/wsgi.py and check directory references match your system
3.3) Edit cbs/bookings/cam_email.py and update system_url
3.4) Edit cbs/bookings/cam_cal.py and update KEY_FILE
4) cd into cbs directory
4.1) Ensure log/django/cbs.log has a+w permission

5) Set up database
5.1) run "./reset" to initialize sqlite3 database
5.2) chmod the sqlite3/cbs file to a+w (i.e. this is the CBS database)

6) run "python manage.py shell"
6.1) >>>execfile('setup.py') to populate database with initial data e.g. room definitions

7) If only running a python dev webserver: run "python manage.py runserver 0.0.0.0:8080"

7.1) point browser to <hostname>:8080

TO RESTART WEB SERVER:
======================

sudo /usr/sbin/crm resource restart res_www_server

TO RUN PYTHON COMMANDS AGAINST DATABASE:
========================================

python manage.py shell